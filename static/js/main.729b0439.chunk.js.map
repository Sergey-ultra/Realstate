{"version":3,"sources":["assets/images/1_9EBHIOzhE1XfMYoKz1JcsQ.gif","components/common/header/Header.module.scss","assets/images/1421138632_frozen-480x800.jpg","components/common/404/noPage.module.scss","components/layout/my/my.module.scss","components/layout/main/main.module.scss","dataAccessLayer/fbConfig.js","dataAccessLayer/firebase.js","store/auth-reducer.js","components/common/header/Header.js","components/common/footer/footer.js","components/common/preloader/preloader.js","components/common/CardSlider/CardSlider.js","components/layout/adv/adv.js","components/layout/adv/AdvContainer.js","components/common/login/LoginForm.js","components/common/register/RegisterContainer.js","components/layout/advView/Description.js","components/layout/advView/price/Price.js","components/layout/advView/slider/slider.js","dataAccessLayer/ExpressApi.js","components/layout/advView/reviews/Reviews.js","components/layout/advView/AdvViewContainer.js","components/layout/my/MyPosts.js","components/layout/my/favorites.js","components/layout/my/MyAdv.js","components/layout/my/MyItems.js","components/common/Tooltips/Tooltips.js","components/layout/adv/Edit.js","components/layout/my/My.js","components/layout/create/Create.js","components/layout/main/main.js","App.js","store/redux-store.js","index.js","components/layout/adv/AdvContainer.module.scss","components/layout/my/MyAdv.module.scss","components/layout/adv/adv.module.scss","components/layout/create/Create.module.scss","components/layout/advView/slider/slider.module.scss","components/common/footer/footer.module.scss","components/common/CardSlider/slider.module.scss","components/common/Tooltips/Tooltips.module.scss","components/layout/my/MyPosts.module.css","assets/slider-svg/left-arrow.svg","assets/slider-svg/right-arrow.svg"],"names":["module","exports","app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","storage","auth","api","login","email","password","signInWithEmailAndPassword","logout","signOut","getAdv","response","collection","onSnapshot","serverUpdate","flats","docs","map","doc","data","id","getAdvById","a","get","then","exists","console","log","catch","error","getAdvByUserId","userId","where","querySnapshot","forEach","push","addAdv","imgUrl","address","price","priceHistory","phone","rooms","square","floor","description","date","add","updateAdv","set","merge","deleteAdv","delete","getFavoritesByUserId","isFollowedFlatIdByUserId","flatId","user","addFavoritesById","removeFromFavoriteById","name","createUserWithEmailAndPassword","currentUser","updateProfile","displayName","Promise","resolve","onAuthStateChanged","uid","initialState","isFetching","isAuth","setAuthStatusAC","status","type","setUserNameAC","setUserIdAC","dispatch","Header","withRouter","history","useSelector","state","useDispatch","useState","iconStatus","setIconStatus","logoutFunc","replace","alert","message","className","s","header","container","header__wrapper","to","src","header__search","placeholder","header__right","header__item","onClick","nav__mobile","burger_icon","open","close","menu","menu__wrapper","menu__main","menu__link","menu__items","menu__item","menu__icon","menu__button","Button","fullWidth","variant","color","Footer","footer","footer__container","footer__item","footer__menu","Preloader","style","backgroungColor","preloader","CardSlider","sliderIndex","setSliderIndex","sliderContainer","left__slider","leftArrow","alt","cardPhoto","right__slider","length","rightArrow","Adv","flat","openToFavorite","setOpenToFavorite","localPhone","setLocalPhone","followedByUserId","setFollowedByUserId","toDate","toLocaleString","year","month","day","timezone","hour","minute","openLocalPhone","useCallback","closeWindowToFavorite","isFollowedByUserId","isFollowed","useEffect","toggleFavorites","flat__main","flat__info","flat__infoWrapper","flat__pricePerSquare","isNaN","Math","round","flat__description","slice","flat__bottom","flat__manip","flat__details","flat__date","AdvContainer","setFlats","isLoading","setIsLoading","fetchAdv","flats__title","flats__content","index","key","LoginForm","withStyles","theme","main","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","avatar","margin","backgroundColor","palette","secondary","form","submit","classes","setEmail","setPassword","loginWithEmailAndPassword","Paper","Avatar","Typography","component","onSubmit","e","preventDefault","FormControl","required","InputLabel","htmlFor","Input","autoComplete","autoFocus","value","onChange","target","withConnect","connect","reg","register","compose","setName","isAutorized","getCurrentUserId","Link","Description","current","Price","Slider","mainPhotoIndex","setMainPhotoIndex","position","setPosition","slider","mainPhoto","extender","smallPhotos","item","smallPhotos__item","smallPhotos__activeItem","left","instance","axios","withCredentials","baseURL","reviewAPI","Reviews","reviews","setReviews","fetchReviews","fetched","review","text","AdvViewContainer","match","setCurrent","infoSection","setInfoSection","setPriceHistory","fetchFlatById","params","res","aditionalPriceHistory","x","getTime","y","Number","chartState","options","chart","stroke","curve","xaxis","series","url","height","exact","path","render","props","MyPosts","posts","postsBlock","p","postElement","Favorites","fetchFavorites","flatIds","flatArray","MyAdv","useHistory","modalWarning","setModalWarning","MyItems","Tooltips","selected","setSelected","showSelect","setShowSelect","select__field","arrow","selected__list","option","selected__item","Edit","useParams","newItem","setNewItem","images","setImages","progressBar","setProgressBar","selectedRooms","setSelectedRooms","editCondition","fetchEdit","onHandleUpdate","onHandleChangeFile","files","aditionalArray","i","file","ref","put","on","snapshot","bytesTransferred","totalBytes","child","getDownloadURL","create__title","create__main","create__item","subtitle","create__form","field","input__text","field__wrapper","field__text","floors","create__photos","guide","loader","img","loader__photos","loader__upload","multiple","input__file","input__textarea","create__buttons","create__button","close__button","success__button","disabled__button","Date","My","my","my__wrapper","my__side","profile","profile__wrapper","profile__avatar","profile__summary","profile__id","list","list__item","list__link","list__icon","my__main","Create","advInfo","setAdvInfo","setImgUrl","createCondition","onHandleCreateUserForm","concat","auth__title","auth__widget","auth__row","auth__content","auth__input","auth__button","auth__authentication","auth__container","auth__link","Main","overlay","main__wrapper","main__title","list__element","filter","filter__item","filter__button","title","search__buttons","search__button","button","light__button","basename","process","RegisterContainer","reducers","combineReducers","action","store","createStore","applyMiddleware","thunkMiddleWare","window","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.729b0439.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/1_9EBHIOzhE1XfMYoKz1JcsQ.26ef8bb4.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Header_container__1Z3Mw\",\"header\":\"Header_header__C7-Io\",\"header__wrapper\":\"Header_header__wrapper__1_k0A\",\"header__search\":\"Header_header__search__ubP3J\",\"header__right\":\"Header_header__right__2WCln\",\"header__item\":\"Header_header__item__kuN7O\",\"burger_icon\":\"Header_burger_icon__39nvB\",\"open\":\"Header_open__1Mjg2\",\"close\":\"Header_close__3JiDI\",\"menu\":\"Header_menu__2o9BY\",\"menu__wrapper\":\"Header_menu__wrapper__2nQgx\",\"menu__main\":\"Header_menu__main__MR1qM\",\"menu__link\":\"Header_menu__link__2K283\",\"menu__items\":\"Header_menu__items__2Ar1A\",\"menu__item\":\"Header_menu__item__1Cxmq\",\"menu__icon\":\"Header_menu__icon__1wmmF\",\"menu__button\":\"Header_menu__button__Z3_Z0\"};","module.exports = __webpack_public_path__ + \"static/media/1421138632_frozen-480x800.306b00fd.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"noPage_container__20qny\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"my_container__3sA3S\",\"my\":\"my_my__6tzIp\",\"my__wrapper\":\"my_my__wrapper__2dJGe\",\"my__side\":\"my_my__side__cN4XF\",\"my__main\":\"my_my__main__1HYRL\",\"profile\":\"my_profile__1Y6z4\",\"profile__wrapper\":\"my_profile__wrapper__PFxXt\",\"profile__avatar\":\"my_profile__avatar__2zx1r\",\"profile__summary\":\"my_profile__summary__3aXgW\",\"profile__id\":\"my_profile__id__1ZxMf\",\"list\":\"my_list__22Kn0\",\"list__item\":\"my_list__item__1Yq6Y\",\"list__link\":\"my_list__link__3xiZ7\",\"list__icon\":\"my_list__icon__1H2MW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main_main__3vT0o\",\"overlay\":\"main_overlay__1U82H\",\"container\":\"main_container__3NQ-C\",\"main__wrapper\":\"main_main__wrapper__1KeSj\",\"main__title\":\"main_main__title__1uZBf\",\"list\":\"main_list__bWZI5\",\"list__element\":\"main_list__element__2aY_4\",\"filter\":\"main_filter__3Sa2V\",\"filter__button\":\"main_filter__button__1wxtI\",\"search__buttons\":\"main_search__buttons__2UpQB\",\"search__button\":\"main_search__button__2fosY\",\"button\":\"main_button__2H6bA\",\"light__button\":\"main_light__button__3LBA_\"};","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\nimport 'firebase/auth'\r\n\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyB9OBm-j62frEd7qY8_2tDjekqNdiSOyEA\",\r\n    authDomain: \"social-c0aa9.firebaseapp.com\",\r\n    databaseURL: \"https://social-c0aa9.firebaseio.com\",\r\n    projectId: \"social-c0aa9\",\r\n    storageBucket: \"social-c0aa9.appspot.com\",\r\n    messagingSenderId: \"811649540102\",\r\n    appId: \"1:811649540102:web:75b733a6517a4e4be9a387\"\r\n};\r\n\r\n\r\nconst app = firebase.initializeApp(config);\r\napp.firestore();\r\n\r\nconst storage = app.storage();\r\n\r\n\r\n\r\nexport {\r\n    storage,   app as default\r\n};","import app from 'firebase';\r\nimport {storage} from './fbConfig';\r\nimport 'firebase/auth'\r\n\r\n\r\n/*\r\nconst config = {\r\n    apiKey: \"AIzaSyB9OBm-j62frEd7qY8_2tDjekqNdiSOyEA\",\r\n    authDomain: \"social-c0aa9.firebaseapp.com\",\r\n    databaseURL: \"https://social-c0aa9.firebaseio.com\",\r\n    projectId: \"social-c0aa9\",\r\n    storageBucket: \"social-c0aa9.appspot.com\",\r\n    messagingSenderId: \"811649540102\",\r\n    appId: \"1:811649540102:web:75b733a6517a4e4be9a387\"\r\n}\r\n*/\r\n\r\nconst auth = app.auth()\r\nconst  firestore = app.firestore()\r\n\r\n\r\nclass Services {\r\n    login = (email, password) => {\r\n        return auth.signInWithEmailAndPassword(email, password)\r\n    }\r\n\r\n    logout = () => {\r\n        return auth.signOut()\r\n    }\r\n\r\n    async register(name, email, password) {\r\n        await auth.createUserWithEmailAndPassword(email, password)\r\n        return auth.currentUser.updateProfile({\r\n            displayName: name\r\n        })\r\n    }\r\n\r\n\r\n    isAutorized() {\r\n        return new Promise(resolve => {\r\n            auth.onAuthStateChanged(resolve)\r\n        })\r\n    }\r\n\r\n    getCurrentUsername() {\r\n        return auth.currentUser && auth.currentUser.displayName\r\n    }\r\n\r\n    getCurrentUserId() {\r\n        return auth.currentUser && auth.currentUser.uid\r\n    }\r\n\r\n\r\n    getAdv = response => {\r\n       firestore\r\n            .collection('adv')\r\n            .onSnapshot(serverUpdate => {\r\n                const flats = serverUpdate.docs.map(doc => {\r\n                    const data = doc.data();\r\n                    data['id'] = doc.id;\r\n                    return data;\r\n                });\r\n                response(flats)\r\n            });\r\n    };\r\n\r\n\r\n     getAdvById = async id => {\r\n         let data\r\n         await  firestore\r\n             .collection(\"adv\")\r\n             .doc(id)\r\n             .get()\r\n             .then(doc => {\r\n                 if (doc.exists) {\r\n                     data = doc.data()\r\n                     data['id'] = doc.id;\r\n                     return data\r\n                 }\r\n                 else {\r\n                 //doc.data() will be undefined in this case\r\n                   console.log(\"No such document!\");\r\n                 }\r\n             })\r\n             .catch(function (error) {\r\n                 console.log(\"Error getting document:\", error);\r\n             });\r\n         return data\r\n     }\r\n\r\n\r\n    getAdvByUserId = async userId => {\r\n        let data=[]\r\n        await  firestore\r\n            .collection(\"adv\")\r\n            .where(\"userId\", \"==\", userId)\r\n            .get()\r\n            .then(function(querySnapshot) {\r\n                querySnapshot.forEach(function(doc) {\r\n                    // doc.data() is never undefined for query doc snapshots\r\n                    const id = doc.id\r\n                    data.push({...doc.data(),id})\r\n                });\r\n            })\r\n\r\n            .catch( error => {console.log(\"Error getting document:\", error)})\r\n        return data\r\n    }\r\n\r\n    addAdv = (imgUrl, address, price, priceHistory, phone, rooms, square, floor, description, date, userId) => {\r\n         firestore\r\n            .collection(\"adv\")\r\n            .add({\r\n                imgUrl: imgUrl,\r\n                address: address,\r\n                price: price,\r\n                priceHistory: priceHistory,\r\n                phone: phone,\r\n                rooms: rooms,\r\n                square: square,\r\n                floor: floor,\r\n                description: description,\r\n                date: date,\r\n                userId: userId\r\n            });\r\n    };\r\n\r\n\r\n  /*  addPriceHistory = (advId, priceHistory) => {\r\n        firestore\r\n            .collection(\"price_history\")\r\n            .add({\r\n                advId: advId,\r\n                priceHistory: priceHistory\r\n            })\r\n    }\r\n    getPriceHistoryById = async id => {\r\n        var data = null\r\n        await  firestore\r\n            .collection(\"price_history\")\r\n            .doc(id)\r\n            .get()\r\n            .then(doc => {\r\n                if (doc.exists) {\r\n                    data = doc.data()\r\n                    data['id'] = doc.id;\r\n                    console.log(data)\r\n                    return data\r\n                }\r\n                else {\r\n                    //doc.data() will be undefined in this case\r\n                    console.log(\"No such document!\");\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(\"Error getting document:\", error);\r\n            });\r\n        return data\r\n    }*/\r\n\r\n    updateAdv = (id, imgUrl, address, price, priceHistory, phone, rooms, square, floor, description, date, userId) => {\r\n         firestore\r\n            .collection(\"adv\")\r\n            .doc(id)\r\n            .set({\r\n                imgUrl: imgUrl,\r\n                address: address,\r\n                price: price,\r\n                priceHistory: priceHistory,\r\n                phone: phone,\r\n                rooms: rooms,\r\n                square: square,\r\n                floor: floor,\r\n                description: description,\r\n                date: date,\r\n                userId: userId\r\n            }, {merge: true})\r\n    }\r\n\r\n\r\n    deleteAdv = id => {\r\n         firestore\r\n            .collection(\"adv\")\r\n            .doc(id).delete()\r\n    }\r\n\r\n\r\n\r\n\r\n    getFavoritesByUserId = async userId => {\r\n        let data=[]\r\n        await  firestore\r\n            .collection(\"favorites\")\r\n            .where(\"userId\", \"==\", userId)\r\n            .get()\r\n            .then(function(querySnapshot) {\r\n                querySnapshot.forEach(function(doc) {\r\n                    // doc.data() is never undefined for query doc snapshots\r\n                    const id = doc.id\r\n                    data.push({...doc.data()})\r\n                });\r\n            })\r\n            .catch( error => {console.log(\"Error getting document:\", error)})\r\n        return data\r\n    }\r\n\r\n    isFollowedFlatIdByUserId = async (flatId,userId) => {\r\n        let user\r\n        await  firestore\r\n            .collection(\"favorites\")\r\n            .where(\"flatId\", \"==\", flatId)\r\n            .where(\"userId\",\"==\", userId)\r\n            .get()\r\n            .then(function(querySnapshot) {\r\n                querySnapshot.forEach(function(doc) {\r\n                    // doc.data() is never undefined for query doc snapshots\r\n                    const id = doc.id\r\n                    user = {...doc.data(),id}\r\n                })\r\n\r\n            })\r\n            .catch( error => {console.log(\"Error getting document:\", error)})\r\n\r\n        if (user && user.userId === userId) {\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n\r\n    addFavoritesById = (userId, flatId) => {\r\n        firestore\r\n            .collection(\"favorites\")\r\n            .add({\r\n                userId: userId,\r\n                flatId: flatId\r\n            })\r\n    }\r\n\r\n    removeFromFavoriteById =  (flatId, userId) => {\r\n         firestore\r\n            .collection(\"favorites\")\r\n            .where(\"flatId\", \"==\", flatId)\r\n            .where(\"userId\",\"==\", userId)\r\n            .get()\r\n             .then(function(querySnapshot) {\r\n                 querySnapshot.forEach(function(doc) {\r\n                     // doc.data() is never undefined for query doc snapshots\r\n                     const id = doc.id\r\n                     firestore\r\n                         .collection(\"favorites\")\r\n                         .doc(id).delete()\r\n\r\n                 })\r\n             })\r\n            .catch(function (error) {\r\n                console.log(\"Error getting document:\", error);\r\n            });\r\n\r\n\r\n    }\r\n}\r\n\r\nconst api = new Services()\r\nexport default api\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import api from '../dataAccessLayer/firebase'\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    name: null,\r\n    isFetching: false,\r\n    isAuth: false\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_AUTH_STATUS':\r\n            return {\r\n                ...state,\r\n                isAuth: action.status\r\n            }\r\n        case 'SET_USER_NAME':\r\n            return {\r\n                ...state,\r\n                name: action.name\r\n            }\r\n        case 'SET_USER_ID':\r\n            return {\r\n                ...state,\r\n                userId: action.userId\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthStatusAC = status => ({type: 'SET_AUTH_STATUS', status})\r\nexport const setUserNameAC = name => ({type: 'SET_USER_NAME', name})\r\nexport const setUserIdAC = userId => ({type: 'SET_USER_ID', userId})\r\n\r\n\r\n\r\n\r\n\r\nexport const reg = (name, email, password) => dispatch => {\r\n    api.register(name, email, password)\r\n        .then(data => {\r\n            dispatch(setAuthStatusAC(true))\r\n            dispatch(setUserNameAC(data.user.displayName))\r\n            dispatch(setUserIdAC(data.user.uid))\r\n    })\r\n}\r\n\r\nexport const login = (email, password) => dispatch => {\r\n    api.login(email, password)\r\n        .then(data => {\r\n            dispatch(setAuthStatusAC(true))\r\n            dispatch(setUserNameAC(data.user.displayName))\r\n            dispatch(setUserIdAC(data.user.uid))\r\n    })\r\n}\r\n\r\n\r\nexport const logout = () => dispatch => {\r\n    api.logout().then(() => {\r\n        dispatch(setAuthStatusAC(false))\r\n        dispatch(setUserIdAC(null))\r\n        dispatch(setUserNameAC(null))\r\n    })\r\n}\r\n\r\n","import React, {Fragment, useState} from \"react\";\r\nimport s from './Header.module.scss';\r\nimport {Link, withRouter} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {logout} from \"../../../store/auth-reducer\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport {FiHeart, FiMessageCircle, FiUsers} from \"react-icons/fi\";\r\n\r\n\r\nexport const Header = withRouter(({history}) => {\r\n    const isAuth = useSelector(state => state.auth.isAuth)\r\n    const name = useSelector(state => state.auth.name)\r\n    const dispatch = useDispatch()\r\n    const [iconStatus, setIconStatus] = useState(false)\r\n\r\n    const logoutFunc = async () => {\r\n        try {\r\n            await dispatch(logout())\r\n            history.replace('/')\r\n        } catch (error) {\r\n            alert(error.message)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <header className={s.header}>\r\n                <div className={s.container}>\r\n                    <div className={s.header__wrapper}>\r\n                        <Link to='/'><img src='https://vk.com/images/svg_icons/ic_head_logo.svg'/></Link>\r\n                        <input className={s.header__search} type=\"text\" placeholder=\"\"/>\r\n\r\n                        {isAuth\r\n                            ?\r\n                            <div className={s.header__right}>\r\n\r\n                                <div className={s.header__item}>\r\n                                    <Link to='/my'>  {`${name}`}  </Link>\r\n                                </div>\r\n                                <div className={s.header__item} onClick={logoutFunc}>\r\n                                    <Link to='/'>  </Link>\r\n                                </div>\r\n                            </div>\r\n\r\n                            : <div className={s.header__item}>\r\n                                <Link to={'/login'}><FiUsers/>   </Link>\r\n                            </div>\r\n                        }\r\n                        <div className={s.nav__mobile}>\r\n                            <div className={s.burger_icon} onClick={() => setIconStatus(!iconStatus)}>\r\n                                <i className={iconStatus ? s.open : s.close}></i>\r\n                                <i className={iconStatus ? s.open : s.close}></i>\r\n                                <i className={iconStatus ? s.open : s.close}></i>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n            <nav className={s.menu}>\r\n                <div className={s.container}>\r\n                    <div className={s.menu__wrapper}>\r\n                        <ul className={s.menu__main}>\r\n                            <li className={s.menu__link}>\r\n                                <Link to='/flat'></Link>\r\n                            </li>\r\n                            <li className={s.menu__link}></li>\r\n                            <li className={s.menu__link}></li>\r\n                            <li className={s.menu__link}></li>\r\n                        </ul>\r\n\r\n                        <div className={s.menu__items}>\r\n                            {isAuth\r\n                                ?\r\n                                <div className={s.menu__item}>\r\n                                    <div className={s.menu__icon}>\r\n                                        <Link to='/favorites'><span><FiHeart/></span></Link>\r\n                                    </div>\r\n                                    < div className={s.menu__icon}>\r\n                                        <Link to='/my/dialogs'><span><FiMessageCircle/></span></Link>\r\n                                    </div>\r\n                                </div>\r\n                                :\r\n                                null\r\n                            }\r\n\r\n                            <div className={s.menu__item + \" \" + s.menu__button}>\r\n                                <Link to={'/create'}>\r\n                                    <Button\r\n                                        type=\"submit\"\r\n                                        fullWidth\r\n                                        variant=\"contained\"\r\n                                        color=\"secondary\"\r\n                                    > \r\n                                    </Button>\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </Fragment>\r\n    )\r\n})\r\n\r\n","import React from \"react\"\r\nimport s from \"./footer.module.scss\"\r\n\r\nexport const Footer = () => {\r\n    return (\r\n        <footer className={s.footer}>\r\n            <div className={s.footer__container}>\r\n                <div className={s.footer__item}>\r\n                                 \r\n                     \r\n                           !\r\n                    <p>\r\n                         .\r\n                             \r\n                    .</p>\r\n                    <p>  ,    .</p>\r\n                </div>\r\n                <div className={s.footer__item + \" \" + s.footer__menu}>\r\n                     - *\r\n                    *     cian.ru      LiveInternet       12  2020 .\r\n                </div>\r\n                <div className={s.footer__item}>\r\n                     - *\r\n                    *     cian.ru      LiveInternet       12  2020 .\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}","import React from \"react\";\r\nimport preloader from '../../../assets/images/1_9EBHIOzhE1XfMYoKz1JcsQ.gif'\r\n\r\nexport const  Preloader = () => {\r\n    return <div style={{backgroungColor: 'white'}}>\r\n        <img src={preloader}/>\r\n    </div>\r\n}","import React, {useState} from 'react'\r\nimport s from \"./slider.module.scss\";\r\nimport leftArrow from \"../../../assets/slider-svg/left-arrow.svg\";\r\nimport rightArrow from \"../../../assets/slider-svg/right-arrow.svg\";\r\n\r\nexport const CardSlider = ({imgUrl}) => {\r\n\r\n    const [sliderIndex, setSliderIndex] = useState(0);\r\n\r\n    const NextPhoto = () => {\r\n        if(sliderIndex < imgUrl.length - 1) {\r\n            setSliderIndex(sliderIndex + 1)\r\n        }\r\n    }\r\n    const PrevPhoto = () => {\r\n        if(sliderIndex> 0) {\r\n            setSliderIndex(sliderIndex  - 1)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={s.sliderContainer}>\r\n            <div className={s.left__slider}>\r\n                <img onClick={PrevPhoto} className={s.leftArrow} src={leftArrow} alt={\"leftArrow\"}/>\r\n            </div>\r\n            {imgUrl\r\n                ?\r\n                <img className={s.cardPhoto} src={imgUrl[sliderIndex]} alt={\"Adv_avatar\"}/>\r\n                : null\r\n            }\r\n            <div className={s.right__slider}>\r\n                <img onClick={NextPhoto} className={s.rightArrow} src={rightArrow} alt={\"rightArrow\"}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {Fragment, useCallback, useEffect, useState} from 'react'\r\nimport {Link} from \"react-router-dom\"\r\nimport s from './adv.module.scss'\r\nimport {Button} from \"@material-ui/core\"\r\nimport {FaRegHeart} from \"react-icons/fa\"\r\nimport {CardSlider} from \"../../common/CardSlider/CardSlider\"\r\nimport api from \"../../../dataAccessLayer/firebase\"\r\n\r\n\r\nexport const Adv = ({flat, userId, isAuth}) => {\r\n    const [openToFavorite, setOpenToFavorite] = useState(false)\r\n    const [localPhone, setLocalPhone] = useState(true)\r\n    const [followedByUserId, setFollowedByUserId] =useState(false)\r\n\r\n    const date = flat.date.toDate().toLocaleString(\"ru\", {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n        timezone: 'UTC',\r\n        hour: 'numeric',\r\n        minute: 'numeric'\r\n    })\r\n    const openLocalPhone = useCallback(() => {setLocalPhone(false)})\r\n    const closeWindowToFavorite = useCallback(() =>  {setOpenToFavorite(false)})\r\n\r\n    const isFollowedByUserId = useCallback(async () => {\r\n        const isFollowed = await api.isFollowedFlatIdByUserId(flat.id, userId)\r\n        setFollowedByUserId(isFollowed)\r\n    })\r\n\r\n    useEffect(() => {\r\n        isFollowedByUserId()\r\n    },[])\r\n\r\n    const toggleFavorites = useCallback(() => {\r\n        if(followedByUserId){\r\n            api.removeFromFavoriteById(flat.id, userId)\r\n            setFollowedByUserId(false)\r\n            console.log('no')\r\n        }else{\r\n            api.addFavoritesById(userId, flat.id)\r\n            setFollowedByUserId(true)\r\n            console.log('yes')\r\n        }\r\n    })\r\n\r\n    return (\r\n        <Fragment>\r\n            {openToFavorite &&\r\n            <div>\r\n                <div className=\"modal__created-blur\"></div>\r\n                <div className=\"modal__created-modal-warning\">\r\n                    <div className=\"created__modal-body\">\r\n                        <p>  </p>\r\n                    </div>\r\n\r\n                    <div className=\"created__modal-bottom\">\r\n\r\n                        <div className=\"close__button\" onClick={closeWindowToFavorite}>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            }\r\n            <div className={s.flat}>\r\n                <CardSlider imgUrl={flat.imgUrl}/>\r\n                <div className={s.flat__main}>\r\n                    <div className={s.flat__info}>\r\n                        <div className={s.flat__infoWrapper}>\r\n                            <Link to={'/flat/' + flat.id}>\r\n                                {`${flat.rooms} .  ${flat.square} 2 ${flat.floor} `}\r\n                            </Link>\r\n                            <div>{`${flat.price} `}\r\n                                <div className={s.flat__pricePerSquare}>\r\n                                    {isNaN(flat.price / flat.square) === false ? `${Math.round(flat.price / flat.square)} /2` : null}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={s.flat__info}>\r\n                        <h5>{flat.address}</h5>\r\n                    </div>\r\n\r\n                    <div className={`${s.flat__info} ${s.flat__description}`}>\r\n                        {flat.description.length >= 185\r\n                            ? <div>\r\n                                {flat.description.slice(0, 185)}\r\n                                <Link to={'/adv/' + flat.id}>...</Link>\r\n                            </div>\r\n                            : `${flat.description}`}\r\n                    </div>\r\n\r\n                    <div className={`${s.flat__info} ${s.flat__bottom}`}>\r\n                        {localPhone\r\n                            ?\r\n                            <Button\r\n                                type=\"submit\"\r\n                                variant=\"contained\"\r\n                                color=\"default\"\r\n                                onClick={openLocalPhone}\r\n                            > \r\n                            </Button>\r\n                            : <h4>{`+7 ${flat.phone}`}</h4>\r\n                        }\r\n                        {isAuth &&\r\n                        <div className={s.flat__manip}>\r\n                            <Button className={s.flat__details} onClick={toggleFavorites}>\r\n                                <span>\r\n                                    <FaRegHeart/>\r\n                                </span>\r\n                                {followedByUserId ? ' ' : ' '}\r\n                            </Button>\r\n                        </div>\r\n                        }\r\n\r\n                        <div className={s.flat__date}>{date}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\n","import React, {useState, useEffect, useCallback} from 'react'\r\nimport {useSelector} from \"react-redux\"\r\nimport s from './AdvContainer.module.scss'\r\nimport {Preloader} from \"../../common/preloader/preloader\";\r\nimport {Adv} from './adv';\r\nimport api from \"../../../dataAccessLayer/firebase\";\r\n\r\n\r\nexport const AdvContainer = () => {\r\n    const userId = useSelector(state => state.auth.userId)\r\n    const isAuth = useSelector(state => state.auth.isAuth)\r\n    const [flats, setFlats] = useState([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n\r\n    const fetchAdv = useCallback(() => {\r\n        api.getAdv(flats => {\r\n            setFlats(flats)\r\n            setIsLoading(false)\r\n        })\r\n    })\r\n    useEffect(() => {\r\n        fetchAdv()\r\n    }, [])\r\n\r\n    if (isLoading) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div className={s.flats}>\r\n            <div className={s.container}>\r\n                <div className={s.flats__title}></div>\r\n                <div className={s.flats__content}>\r\n                    {flats.map((flat, index) => {\r\n                            return (\r\n                                <Adv\r\n                                    key={index}\r\n                                    flat={flat}\r\n                                    userId={userId}\r\n                                    isAuth={isAuth}\r\n                                />\r\n                            )\r\n                        }\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, {useCallback, useState} from 'react'\r\nimport { Typography, Paper, Avatar, Button, FormControl, Input, InputLabel } from '@material-ui/core'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\r\nimport withStyles from '@material-ui/core/styles/withStyles'\r\nimport { Link, withRouter, Redirect } from 'react-router-dom'\r\nimport firebase from '../../../dataAccessLayer/firebase'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {login} from \"../../../store/auth-reducer\";\r\n\r\n\r\nconst styles = theme => ({\r\n    main: {\r\n        width: 'auto',\r\n        display: 'block', // Fix IE 11 issue.\r\n        marginLeft: theme.spacing.unit * 3,\r\n        marginRight: theme.spacing.unit * 3,\r\n        [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n            width: 400,\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing.unit * 8,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing.unit,\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing.unit,\r\n    },\r\n    submit: {\r\n        marginTop: theme.spacing.unit * 3,\r\n    },\r\n});\r\n\r\nconst  Login =({classes, history }) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const isAuth = useSelector(state => state.auth.isAuth)\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const loginWithEmailAndPassword =  async () =>  {\r\n        try {\r\n            await dispatch(login(email, password))\r\n            history.replace('/')\r\n        } catch (error) {\r\n            alert(error.message)\r\n        }\r\n    }\r\n\r\n    if (isAuth) return <Redirect to={\"/\"}/>\r\n    return (\r\n        <main className={classes.main}>\r\n            <Paper className={classes.paper}>\r\n                <Avatar className={classes.avatar}>\r\n                    <LockOutlinedIcon />\r\n                </Avatar>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    \r\n                </Typography>\r\n                <form className={classes.form} onSubmit={e => e.preventDefault() && false}>\r\n                    <FormControl margin=\"normal\" required fullWidth>\r\n                        <InputLabel htmlFor=\"email\">Email Address</InputLabel>\r\n                        <Input id=\"email\" name=\"email\" autoComplete=\"off\" autoFocus value={email} onChange={e => setEmail(e.target.value)} />\r\n                    </FormControl>\r\n                    <FormControl margin=\"normal\" required fullWidth>\r\n                        <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n                        <Input name=\"password\" type=\"password\" id=\"password\" autoComplete=\"off\" value={password} onChange={e => setPassword(e.target.value)} />\r\n                    </FormControl>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={loginWithEmailAndPassword}\r\n                        className={classes.submit}>\r\n                        \r\n                    </Button>\r\n                    <Link to={'/register'}>\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"secondary\"\r\n                            /*component={Link}*/\r\n                           /* to=\"/register\"*/\r\n                            className={classes.submit}>\r\n                            \r\n                        </Button>\r\n                    </Link>\r\n                </form>\r\n            </Paper>\r\n        </main>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport const LoginForm = withRouter(withStyles(styles)(Login))","import React, {useEffect, useState} from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport {reg, setUserIdAC} from \"../../../store/auth-reducer\";\r\nimport {connect, useSelector} from \"react-redux\";\r\nimport api from \"../../../dataAccessLayer/firebase\";\r\nimport {compose} from \"redux\";\r\n\r\n// \r\nimport { Typography, Paper, Avatar, Button, FormControl, Input, InputLabel } from '@material-ui/core'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\r\nimport withStyles from '@material-ui/core/styles/withStyles'\r\n\r\n\r\nconst styles = theme => ({\r\n    main: {\r\n        width: 'auto',\r\n        display: 'block', // Fix IE 11 issue.\r\n        marginLeft: theme.spacing.unit * 3,\r\n        marginRight: theme.spacing.unit * 3,\r\n        [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n            width: 400,\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing.unit * 8,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing.unit,\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing.unit,\r\n    },\r\n    submit: {\r\n        marginTop: theme.spacing.unit * 3,\r\n    },\r\n})\r\n\r\nconst RegisterContainer = ({classes, reg, setUserIdAC, history}) => {\r\n\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n\r\n    useEffect(() => {\r\n        api.isAutorized().then(user => {\r\n            if (user) {\r\n                setUserIdAC(api.getCurrentUserId())\r\n            }\r\n        })\r\n    } )\r\n\r\n    async function onRegister() {\r\n        try {\r\n            await reg(name, email, password)\r\n            history.replace('/')\r\n        } catch(error) {\r\n            alert(error.message)\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <main className={classes.main}>\r\n            <Paper className={classes.paper}>\r\n                <Avatar className={classes.avatar}>\r\n                    <LockOutlinedIcon />\r\n                </Avatar>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Register Account\r\n                </Typography>\r\n                <form className={classes.form} onSubmit={e => e.preventDefault() && false }>\r\n                    <FormControl margin=\"normal\" required fullWidth>\r\n                        <InputLabel htmlFor=\"name\">Name</InputLabel>\r\n                        <Input id=\"name\" name=\"name\" autoComplete=\"off\" autoFocus value={name} onChange={e => setName(e.target.value)} />\r\n                    </FormControl>\r\n                    <FormControl margin=\"normal\" required fullWidth>\r\n                        <InputLabel htmlFor=\"email\">Email Address</InputLabel>\r\n                        <Input id=\"email\" name=\"email\" autoComplete=\"off\" value={email} onChange={e => setEmail(e.target.value)}  />\r\n                    </FormControl>\r\n                    <FormControl margin=\"normal\" required fullWidth>\r\n                        <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n                        <Input name=\"password\" type=\"password\" id=\"password\" autoComplete=\"off\" value={password} onChange={e => setPassword(e.target.value)}  />\r\n                    </FormControl>\r\n\r\n\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={onRegister}\r\n                        className={classes.submit}>\r\n                        Register\r\n                    </Button>\r\n\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"secondary\"\r\n                        component={Link}\r\n                        to=\"/login\"\r\n                        className={classes.submit}>\r\n                        Go back to Login\r\n                    </Button>\r\n                </form>\r\n            </Paper>\r\n        </main>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst withConnect = connect({reg,setUserIdAC})\r\n\r\nexport default withRouter(withStyles(styles)(compose(withConnect)(RegisterContainer)))\r\n\r\n","import React  from \"react\";\r\n\r\nexport const Description = ({current}) => {\r\n    return (\r\n        <div className=\"item__description\">\r\n            \r\n            {`${current.description}`}\r\n            <div><h4>{`+7 ${current.phone}`}</h4></div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, {Fragment} from \"react\";\r\n\r\n\r\nexport const Price = () => {\r\n    return(\r\n        <Fragment>\r\n            <div>\r\n                \r\n            </div>\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n\r\n","import React, {Fragment, useState} from \"react\";\r\nimport s from './slider.module.scss'\r\nimport leftArrow from \"../../../../assets/slider-svg/left-arrow.svg\";\r\nimport rightArrow from \"../../../../assets/slider-svg/right-arrow.svg\";\r\nimport { BsArrowsFullscreen } from \"react-icons/bs\"\r\n\r\n\r\nexport const Slider = ({imgUrl, name}) => {\r\n    const [mainPhotoIndex, setMainPhotoIndex] = useState(0);\r\n    const [position, setPosition] = useState(0);\r\n    return (\r\n        <Fragment>\r\n            <div className={s.slider}>\r\n                <div className={s.left__slider}>\r\n                    <img onClick={() => {\r\n                        if (mainPhotoIndex > 0) {\r\n                            setMainPhotoIndex(mainPhotoIndex - 1)\r\n                        }\r\n                    }} className={s.leftArrow} src={leftArrow} alt={\"leftArrow\"}/>\r\n                </div>\r\n                <img className={s.mainPhoto}\r\n                     src={imgUrl[mainPhotoIndex] ? imgUrl[mainPhotoIndex] : null}\r\n                     alt={name}/>\r\n                <div className={s.right__slider}>\r\n                    <img onClick={() => {\r\n                        if (mainPhotoIndex < imgUrl.length - 1) {\r\n                            setMainPhotoIndex(mainPhotoIndex + 1)\r\n                        }\r\n                    }}\r\n                         className={s.rightArrow} src={rightArrow} alt={\"rightArrow\"}/>\r\n                </div>\r\n                <div className={s.extender}>\r\n                    <BsArrowsFullscreen/>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={s.smallPhotos}>\r\n                {imgUrl\r\n                    ? imgUrl.map((item, index) => {\r\n                        return (\r\n                            <div className={s.smallPhotos__item + \" \" + (index === mainPhotoIndex && s.smallPhotos__activeItem)}>\r\n                                <img src={item}\r\n                                     alt=\"advPhotos\"\r\n                                     style={{left: `${position} px`}}\r\n                                     onClick={() => {\r\n                                         setPosition(110)\r\n                                         setMainPhotoIndex(index)\r\n                                     }}\r\n                                />\r\n                            </div>\r\n                        )\r\n                        //}\r\n                    })\r\n                    : null}\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: false,\r\n    baseURL: '/review'\r\n})\r\n\r\nexport const reviewAPI = {\r\n    getReviews() {\r\n        return instance.get('')\r\n            .then(response => {\r\n                console.log(response)\r\n                /*if (!response.ok) {\r\n                    throw new Error(response.statusText)\r\n                }*/\r\n                return response\r\n            })\r\n    }\r\n}\r\n\r\n\r\n","import React, {Fragment, useCallback, useEffect, useState} from \"react\";\r\nimport {reviewAPI} from \"../../../../dataAccessLayer/ExpressApi\";\r\nimport {Preloader} from \"../../../common/preloader/preloader\";\r\n\r\n\r\nexport const Reviews = () => {\r\n    const [reviews, setReviews] = useState([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const fetchReviews = useCallback(async () => {\r\n        try {\r\n            const fetched = await reviewAPI.getReviews()\r\n            setReviews(fetched)\r\n            setIsLoading(false)\r\n        } catch\r\n            (e) {\r\n\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        fetchReviews()\r\n    }, [])\r\n\r\n    if (isLoading) {return <Preloader/>}\r\n    return (\r\n        <Fragment>\r\n            {reviews.map((review, index) => {\r\n                return (\r\n                    <div key={index}>\r\n                        {review.text}\r\n                        {review.date}\r\n                    </div>\r\n                )\r\n            })}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, {useEffect, useState} from \"react\";\r\nimport api from \"../../../dataAccessLayer/firebase\";\r\nimport Chart from \"react-apexcharts\";\r\nimport {BrowserRouter as Router, Switch, NavLink, Route} from \"react-router-dom\";\r\n\r\n// \r\nimport './advView.scss';\r\nimport {Preloader} from \"../../common/preloader/preloader\";\r\nimport {Description} from \"./Description\";\r\nimport {Price} from \"./price/Price\";\r\nimport {Slider} from \"./slider/slider\";\r\nimport {Reviews} from \"./reviews/Reviews\";\r\n\r\n\r\nexport const AdvViewContainer = ({match}) => {\r\n    const [current, setCurrent] = useState({});\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [infoSection, setInfoSection] = useState(\"Where buy\");\r\n    const [priceHistory, setPriceHistory] = useState([]);\r\n    const chartWidth = \"350px\"\r\n    const chartHeight = \"220px\"\r\n    const options = {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n        timezone: 'UTC',\r\n        hour: 'numeric',\r\n        minute: 'numeric'\r\n    };\r\n\r\n    const fetchFlatById = async () => {\r\n        if (!isLoading) {\r\n            const res = await api.getAdvById(match.params.id)\r\n            setCurrent(res)\r\n            setIsLoading(true)\r\n            let aditionalPriceHistory = res.priceHistory.map(item => {\r\n                return ({x: item.date.toDate().getTime(), y: Number(item.price)})\r\n            })\r\n            setPriceHistory(aditionalPriceHistory)\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        fetchFlatById()\r\n    }, [])\r\n\r\n\r\n    const chartState = {\r\n        options: {\r\n            chart: {\r\n                id: \"basic-bar\"\r\n            },\r\n            stroke: {\r\n                curve: 'smooth',\r\n            },\r\n            xaxis: {\r\n                type: 'datetime'\r\n            }\r\n        },\r\n        series: [\r\n            {\r\n                name: \"\",\r\n                data: priceHistory\r\n            }\r\n        ]\r\n    };\r\n\r\n    return (!isLoading\r\n            ? <Preloader/>\r\n            :\r\n            <Router>\r\n                <div className=\"flats\">\r\n                    <div className=\"container\">\r\n                        <div className=\"item\">\r\n                            <div className=\"item__main\">\r\n                                <div className=\"breadcrumbs\">\r\n                                    <NavLink to='/'>\r\n                                           /\r\n                                    </NavLink>\r\n                                    {`${current.rooms} .  ${current.square} 2`}\r\n                                </div>\r\n                                <div className=\"item__date\">\r\n                                    {`${current.date.toDate().toLocaleString(\"ru\", options)}`}\r\n                                </div>\r\n\r\n                                <div className=\"item__card\">\r\n                                    <div className=\"item__title\">\r\n                                        {`${current.rooms} .  ${current.square} 2`}\r\n                                    </div>\r\n                                    <div className=\"item__tabs\">\r\n                                        <NavLink to={`${match.url}`}>\r\n                                            <div\r\n                                                className={\"item__tab\" + \" \" + (infoSection === \"Where buy\" && \"item__tab-active\")}\r\n                                                onClick={() => setInfoSection(\"Where buy\")}> \r\n                                            </div>\r\n                                        </NavLink>\r\n                                        <NavLink to={`${match.url}/description`}>\r\n                                        <div\r\n                                            className={\"item__tab\" + \" \" + (infoSection === \"Discription\" && \"item__tab-active\")}\r\n                                            onClick={() => setInfoSection(\"Discription\")}>\r\n                                        </div>\r\n                                        </NavLink>\r\n                                        <NavLink to={`${match.url}/reviews`}>\r\n                                            <div\r\n                                                className={\"item__tab\" + \" \" + (infoSection === \"Reviews\" && \"item__tab-active\")}\r\n                                                onClick={() => setInfoSection(\"Reviews\")}>\r\n                                            </div>\r\n                                        </NavLink>\r\n                                        <NavLink to={`${match.url}/discussion`}>\r\n                                            <div\r\n                                                className={\"item__tab\" + \" \" + (infoSection === \"Discussion\" && \"item__tab-active\")}\r\n                                                onClick={() => setInfoSection(\"Discussion\")}>\r\n                                            </div>\r\n                                        </NavLink>\r\n                                        <NavLink to={`${match.url}/useful`}>\r\n                                            <div\r\n                                                className={\"item__tab\" + \" \" + (infoSection === \"Useful\" && \"item__tab-active\")}\r\n                                                onClick={() => setInfoSection(\"Useful\")}>\r\n                                            </div>\r\n                                        </NavLink>\r\n                                    </div>\r\n\r\n                                    <div className=\"item__underline\"></div>\r\n\r\n                                    <div className=\"item__content\">\r\n                                        <div className=\"item__slider\">\r\n                                            <Slider imgUrl={current.imgUrl} name={current.address}/>\r\n                                        </div>\r\n                                        <div className=\"item__price\">\r\n                                            <div className=\"item__digital\"> {`${current.price} `} </div>\r\n                                            <div className=\"item__chart\">\r\n                                                <Chart\r\n                                                    options={chartState.options}\r\n                                                    series={chartState.series}\r\n                                                    type=\"line\"\r\n                                                    width={chartWidth}\r\n                                                    height={chartHeight}\r\n\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"item__info\">\r\n                                        <h2>{`${current.rooms} .  ${current.square} 2`}</h2>\r\n\r\n                                        <Switch>\r\n                                            <Route\r\n                                                exact path={`${match.path}`}\r\n                                                render={props => <Price {...props} current={current}/>}\r\n                                            />\r\n                                            <Route exact path={`${match.path}/description`}\r\n                                                   render={props => <Description {...props} current={current}/>}\r\n                                            />\r\n                                            <Route\r\n                                                exact path={`${match.path}/reviews`}\r\n                                                render={props => <Reviews {...props} current={current}/>}\r\n                                            />\r\n                                            <Route\r\n                                                exact path={`${match.path}/discussion`}\r\n                                                render={props => <Reviews {...props} current={current}/>}\r\n                                            />\r\n                                            <Route\r\n                                                exact path={`${match.path}/usefull`}\r\n                                                render={props => <Reviews {...props} current={current}/>}\r\n                                            />\r\n\r\n                                        </Switch>\r\n\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"item__sidepanel\">\r\n                                  \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Router>\r\n    )\r\n}\r\n","import React, {useState} from \"react\";\r\nimport s from \"./MyPosts.module.css\";\r\nimport avatar from '../../../assets/images/1421138632_frozen-480x800.jpg'\r\n\r\n\r\n\r\nexport const MyPosts = () => {\r\n     const [posts, setPosts] = useState([\r\n         {id: 2, message: 'How are you' },\r\n         {id: 3, message: 'first like' },\r\n         {id: 4, message: 'Yo' },\r\n         {id: 5, message: 'Yo' }\r\n     ])\r\n\r\n    const onAddPost = values => {setPosts(posts.concat({message: values.newPostText}))}\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h2> </h2>\r\n            <div className={s.posts}>\r\n                {posts.map(p =>\r\n                    <div className={s.item}>\r\n                        <img src={avatar}/>\r\n                        <div className ={s.postElement}>{p.message}</div>\r\n                    </div>\r\n                    )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, {useCallback, useEffect, useState} from 'react'\r\nimport s from \"../adv/AdvContainer.module.scss\";\r\nimport {Adv} from \"../adv/adv\"\r\nimport {useSelector} from \"react-redux\";\r\nimport api from \"../../../dataAccessLayer/firebase\";\r\nimport {Preloader} from \"../../common/preloader/preloader\";\r\n\r\n\r\nexport const Favorites = () => {\r\n    const userId = useSelector(state => state.auth.userId)\r\n    const [flats, setFlats] = useState([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n\r\n    const fetchFavorites = useCallback(async () => {\r\n        let flatIds = await api.getFavoritesByUserId(userId)\r\n        console.log(flatIds)\r\n        let flatArray = []\r\n        for (const item of flatIds) {\r\n            const current = await api.getAdvById(item.flatId)\r\n            flatArray.push(current)\r\n        }\r\n\r\n        setFlats([...flatArray])\r\n        setIsLoading(false)\r\n    })\r\n    useEffect(() => {\r\n        fetchFavorites()\r\n\r\n    }, [userId])\r\n\r\n    if (isLoading) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div className={s.flats}>\r\n            <div className={s.container}>\r\n                <div className={s.flats__title}></div>\r\n                <div className={s.flats__content}>\r\n                    {flats.length !==0\r\n                        ?\r\n                        flats.map((flat, index) =>  <Adv key={index} flat={flat} userId={userId}/>)\r\n                    : <h3>      </h3>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {Fragment, useState} from 'react'\r\nimport {Link, useHistory } from \"react-router-dom\"\r\n\r\n// Importing SCSS files\r\nimport s from './MyAdv.module.scss'\r\nimport {Button} from \"@material-ui/core\"\r\nimport {FiTrash2, FiEdit2} from \"react-icons/fi\"\r\n\r\n//Importing components\r\nimport {CardSlider} from \"../../common/CardSlider/CardSlider\"\r\nimport api from \"../../../dataAccessLayer/firebase\"\r\n\r\n\r\nexport const MyAdv = ({flat}) => {\r\n    const history = useHistory()\r\n    const [modalWarning, setModalWarning] = useState(false)\r\n    const [localPhone, setLocalPhone] = useState(true)\r\n    const date = flat.date.toDate().toLocaleString(\"ru\", {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n        timezone: 'UTC',\r\n        hour: 'numeric',\r\n        minute: 'numeric'\r\n    })\r\n\r\n    return (\r\n        <Fragment>\r\n            {modalWarning &&\r\n            <div>\r\n                <div className=\"modal__created-blur\"></div>\r\n                <div className=\"modal__created-modal-warning\">\r\n                    <div className=\"created__modal-header\">\r\n                        <h2>!</h2>\r\n                    </div>\r\n\r\n                    <div className=\"created__modal-body\">\r\n                        <p> ,    ?   !</p>\r\n                    </div>\r\n\r\n                    <div className=\"created__modal-bottom\">\r\n                        <button type=\"button\" className=\"close__button\" onClick={() => setModalWarning(false)}>\r\n                            \r\n                        </button>\r\n                        <button type=\"button\" className=\"delete__button\" onClick={() => {\r\n                            api.deleteAdv(flat.id)\r\n                            setModalWarning(false)\r\n                        }}>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            }\r\n            <div className={s.flat}>\r\n                <CardSlider imgUrl={flat.imgUrl}/>\r\n                <div className={s.flat__main}>\r\n                    <div className={s.flat__info}>\r\n                        <div className={s.flat__infoWrapper}>\r\n                            <Link to={'/flat/' + flat.id}>\r\n                                {`${flat.rooms} .  ${flat.square} 2 ${flat.floor} `}\r\n                            </Link>\r\n                            <div>{`${flat.price} `}\r\n                                <div className={s.flat__pricePerSquare}>\r\n                                    {isNaN(flat.price / flat.square) === false ? `${Math.round(flat.price / flat.square)} /2` : null}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={s.flat__manip}>\r\n                            <Link to={`/edit/${flat.id}`}>\r\n                                <span className={s.flat__details}><FiEdit2/></span>\r\n                            </Link>\r\n                            <span className={s.flat__details} onClick={() => {setModalWarning(true)}}>\r\n                                <FiTrash2/>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={s.flat__info}>\r\n                        <h5>{flat.address}</h5>\r\n                    </div>\r\n\r\n                    <div className={`${s.flat__info} ${s.flat__description}`}>\r\n                        {flat.description.length >= 185\r\n                            ? <div>\r\n                                {flat.description.slice(0, 185)}\r\n\r\n                                <Link to={'/flat/' + flat.id}>...</Link>\r\n                            </div>\r\n                            : `${flat.description}`}\r\n                    </div>\r\n\r\n                    <div className={`${s.flat__info} ${s.flat__bottom}`}>\r\n                        {localPhone\r\n                            ?\r\n                            <Button\r\n                                type=\"submit\"\r\n                                variant=\"contained\"\r\n                                color=\"default\"\r\n                                onClick={() => {setLocalPhone(false)}}\r\n                            > \r\n                            </Button>\r\n                            : <h4>{`+7 ${flat.phone}`}</h4>\r\n                        }\r\n                        <div className={s.flat__date}>{date}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\n","import React, {useCallback, useEffect, useState} from 'react'\r\nimport s from \"../adv/AdvContainer.module.scss\";\r\nimport {MyAdv} from \"./MyAdv\"\r\nimport {useSelector} from \"react-redux\";\r\nimport api from \"../../../dataAccessLayer/firebase\";\r\nimport {Preloader} from \"../../common/preloader/preloader\";\r\n\r\n\r\nexport const MyItems = () => {\r\n    const userId = useSelector(state => state.auth.userId)\r\n    const [flats, setFlats] = useState([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n\r\n    const fetchAdv = useCallback(async () => {\r\n        const flats = await api.getAdvByUserId(userId)\r\n        setFlats(flats)\r\n        setIsLoading(false)\r\n    })\r\n\r\n    useEffect(() => {\r\n        fetchAdv()\r\n    }, [userId])\r\n\r\n    if (isLoading) {\r\n        return <Preloader/>\r\n    }\r\n    if (flats.length !== 0) {\r\n        return <div className={s.flats}>\r\n            <div className={s.container}>\r\n                <div className={s.flats__title}></div>\r\n                <div className={s.flats__content}>\r\n                    {flats.map((flat, index) => <MyAdv key={index} flat={flat}/>)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    } else {\r\n        return <div>    </div>\r\n    }\r\n}","import React, {useState} from 'react'\r\nimport s from \"./Tooltips.module.scss\"\r\nimport {FaChevronDown} from \"react-icons/fa\";\r\n\r\nexport const Tooltips = ({options, selected, setSelected}) => {\r\n    const [showSelect, setShowSelect] = useState(false)\r\n    return(\r\n        <div\r\n            className={s.select__field}\r\n            onClick={() => setShowSelect(!showSelect)}\r\n            id=\"rooms\">\r\n            {selected}\r\n            <span className={s.arrow /*+ \" \" + showSelect ? s.arrow__down : s.arrow__up*/}>\r\n                                    <FaChevronDown/>\r\n                                </span>\r\n            <div className={s.selected}\r\n                 style={{display: showSelect ? \"block\" : \"none\"}}>\r\n                <ul className={s.selected__list}>\r\n                    {options.map((option, index) =>\r\n                        <li\r\n                            key={index}\r\n                            onClick={() => setSelected(option)}\r\n                            className={s.selected__item}>\r\n                            {option}\r\n                        </li>\r\n                    )}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}","import React, {useEffect, useState} from 'react';\nimport {FiImage} from 'react-icons/fi';\nimport api from '../../../dataAccessLayer/firebase'\nimport {storage} from \"../../../dataAccessLayer/fbConfig\";\nimport s from \"../create/Create.module.scss\";\nimport {useParams, useHistory} from 'react-router-dom';\nimport {Tooltips} from \"../../common/Tooltips/Tooltips\";\n\n\nexport const Edit = () => {\n    const {id} = useParams()\n    const history = useHistory();\n    const [newItem, setNewItem] = useState({})\n    const [images, setImages] = useState([])\n    const [progressBar, setProgressBar] = useState(0)\n    const options = ['1', '2', '3', '4', '5', '6  ']\n    const [selectedRooms, setSelectedRooms] = useState(null)\n    const editCondition = newItem.address !== '' && newItem.price !== ''\n\n    const fetchEdit = async () => {\n        const item = await api.getAdvById(id)\n        setNewItem({...item})\n        setImages([...item.imgUrl])\n        setSelectedRooms(item.rooms)\n    }\n\n    useEffect(() => {\n        fetchEdit()\n    }, [])\n\n\n    const edit = () => {\n        const date = new Date()\n        let priceHistory = [...newItem.priceHistory, {date: date, price: newItem.price}]\n        api.updateAdv(\n            newItem.id,\n            images,\n            newItem.address,\n            newItem.price,\n            priceHistory,\n            newItem.phone,\n            selectedRooms,\n            newItem.square,\n            newItem.floor,\n            newItem.description,\n            newItem.date,\n            newItem.userId\n        )\n        history.push(\"/flat\");\n    }\n\n    const closeEdit = () => {\n        setImages([]);\n        setProgressBar(0);\n        history.push(\"/flat\");\n    }\n\n\n    const onHandleUpdate = e => {\n        setNewItem({...newItem, [e.target.id]: e.target.value});\n    };\n\n    //       Firebase\n    const onHandleChangeFile = async e => {\n\n        if (e.target.files !== []) {\n            let aditionalArray = [];\n            for (let i = 0; i < e.target.files.length; i++) {\n                const file = e.target.files[i]\n                if (!file.type.match('image.*')) {\n                    continue\n                }\n                storage.ref(`/images/${file.name}`).put(file)\n                    .on('state_changed',\n                        async snapshot => {\n                            await setProgressBar(Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100));\n                            console.log('  ' + progressBar)\n                        },\n                        error => {\n                            console.log(error)\n                        },\n                        async () => {\n                            let url = await storage.ref('images').child(file.name).getDownloadURL()\n                            aditionalArray.push(url)\n                            console.log(images)\n                            console.log(...aditionalArray)\n                            /* console.log(url)\n                             console.log(images.concat(url))*/\n                            console.log(`   ${i}`)\n                            setImages([...images, ...aditionalArray])\n\n                        })\n\n            }\n        }\n    }\n\n    return (\n        <div className={s.container}>\n            <div className={s.create__title}><h2> </h2></div>\n            <div className={s.create__main}>\n                <div className={s.create__item}>\n                    <div className={s.subtitle}> </div>\n                    <form className={s.create__form}>\n                        <div className={s.field}>\n                            <label> </label>\n                            <input\n                                type=\"text\"\n                                className={s.input__text}\n                                onChange={onHandleUpdate}\n                                id=\"address\"\n                                value={newItem.address}\n                            />\n                        </div>\n                        <div className={s.field}>\n                            <label> </label>\n                            <Tooltips options={options}\n                                      setSelected={setSelectedRooms}\n                                      selected={selectedRooms}/>\n\n                        </div>\n\n                        <div className={s.field}>\n                            <label> </label>\n                            <div className={s.field__wrapper}>\n                                <input\n                                    type=\"text\"\n                                    className={s.input__text + \" \" + s.square}\n                                    onChange={onHandleUpdate}\n                                    id=\"square\"\n                                    value={newItem.square}\n                                />\n                                <span className={s.field__text}><sup>2</sup></span>\n                            </div>\n                        </div>\n                        <div className={s.field}>\n                            <label></label>\n                            <input\n                                type=\"text\"\n                                className={s.input__text + \" \" + s.floors}\n                                onChange={onHandleUpdate}\n                                id=\"floor\"\n                                value={newItem.floor}\n                            />\n                        </div>\n                    </form>\n                </div>\n                <div className={s.create__item + \" \" + s.create__photos}>\n                    <div className={s.subtitle}></div>\n                    <div className={s.guide}>\n                               ,   \n                         . JPG, PNG  GIF.    10 \n                    </div>\n                    <div className={s.loader}>\n                        {images\n                            ?\n                            images.map((img, index) =>\n                                <div key={index} className={s.loader__photos}>\n                                    <img src={img} alt=\"flat\"/>\n                                </div>)\n                            : null}\n                        <form className={s.loader__photos + \" \" + s.loader__upload}>\n                            <FiImage/>\n                            <p> <span>*</span></p>\n                            <input\n                                type=\"file\"\n                                multiple\n                                className={s.input__file}\n                                onChange={onHandleChangeFile}\n                                id=\"Photos\"\n                            />\n                        </form>\n                    </div>\n                    <div className={s.description}>\n                        <div className={s.subtitle}></div>\n                        <textarea\n                            type=\"textarea\"\n                            placeholder=\"    , , ,   ;\n\t\t\t\t\t\t\t  ;        ;    .\"\n                            className={s.input__textarea}\n                            onChange={onHandleUpdate}\n                            id=\"description\"\n                            value={newItem.description}\n                        />\n                    </div>\n                </div>\n                <div className={s.create__item + \" \" + s.create__photos}>\n                    <div className={s.subtitle}>  </div>\n                    <form className={s.create__form}>\n                        <div className={s.field}>\n                            <label></label>\n                            <div className={s.field__wrapper}>\n                                <input\n                                    type=\"text\"\n                                    className={s.input__text + \" \" + s.price}\n                                    onChange={onHandleUpdate}\n                                    value={newItem.price}\n                                    id=\"price\"\n                                />\n                                <span className={s.field__text}></span>\n                            </div>\n                        </div>\n\n\n                        <div className={s.field}>\n                            <label> </label>\n                            <input\n                                type=\"text\"\n                                className={s.input__text}\n                                onChange={onHandleUpdate}\n                                id=\"type__of__sale\"\n                            />\n                        </div>\n                        <div className={s.field}>\n                            <label></label>\n                            <input\n                                type=\"text\"\n                                className={s.input__text + \" \" + s.phone}\n                                onChange={onHandleUpdate}\n                                id=\"phone\"\n                                value={newItem.phone}\n                            />\n                        </div>\n                    </form>\n                </div>\n                <div className={s.create__item + \" \" + s.create__buttons}>\n                    <button type=\"button\"\n                            className={s.create__button + \" \" + s.close__button}\n                            onClick={closeEdit}></button>\n                    <button type=\"button\"\n                            className={s.create__button + \" \" + (editCondition ? s.success__button : s.disabled__button)}\n                            onClick={editCondition ? edit : null}>\n                        \n                    </button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\n\n\n","import React from \"react\";\r\nimport s from \"./my.module.scss\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {BrowserRouter as Router, Route, Switch, Link, withRouter} from 'react-router-dom';\r\nimport {MyPosts} from \"./MyPosts\";\r\nimport {Favorites} from \"./favorites\";\r\nimport {MyItems} from \"./MyItems\";\r\nimport {Edit} from \"../adv/Edit\";\r\nimport {AdvViewContainer} from \"../advView/AdvViewContainer\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport {FaRegComment} from \"react-icons/fa\";\r\n\r\n\r\nexport  const My =  withRouter(({match}) => {\r\n    const name = useSelector(state => state.auth.name)\r\n    const history = useHistory()\r\n    const { path, url } = match\r\n    console.log(match)\r\n    return (\r\n        <Router>\r\n            <div className={s.my}>\r\n                <div className={s.container}>\r\n                    <div className={s.my__wrapper}>\r\n                        <div className={s.my__side}>\r\n                            <div className={s.profile}>\r\n                                <div className={s.profile__wrapper}>\r\n                                    <div className={s.profile__avatar}></div>\r\n                                    <div className={s.profile__summary}>\r\n                                        <div className={s.profile__id}>{name}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <ul className={s.list}>\r\n                                <li className={s.list__item}>\r\n                                    <Link className={s.list__link} to={`${url}/dialogs`} >\r\n                                        <span className={s.list__icon}><FaRegComment /></span>\r\n                                        <span> </span>\r\n                                    </Link>\r\n                                </li>\r\n                                <li className={s.list__item} >\r\n                                    <div className={s.list__link} onClick={() => history.push('/favorites')}>\r\n                                        <span className={s.list__icon}><FaRegComment /></span>\r\n                                        <span></span>\r\n                                    </div>\r\n                                </li>\r\n                                <li className={s.list__item}>\r\n                                    <div className={s.list__link} onClick={() => history.push('/my_items')}>\r\n                                        <span className={s.list__icon}><FaRegComment /></span>\r\n                                        <span> </span>\r\n                                    </div>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div className={s.my__main}>\r\n                            <Route exact path={`my/dialogs`} component={MyPosts}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Router>\r\n    )\r\n})\r\n\r\n","import React, {useState} from 'react';\nimport {FiImage} from 'react-icons/fi';\nimport {Link} from \"react-router-dom\";\nimport s from './Create.module.scss'\nimport {storage} from \"../../../dataAccessLayer/fbConfig\";\nimport api from \"../../../dataAccessLayer/firebase\";\nimport {useSelector} from \"react-redux\"\nimport {Button} from \"@material-ui/core\";\nimport {Tooltips} from \"../../common/Tooltips/Tooltips\";\n\nexport const Create = ({history}) => {\n    const userId = useSelector(state => state.auth.userId)\n    const isAuth = useSelector(state => state.auth.isAuth)\n    const [advInfo, setAdvInfo] = useState([])\n    const [imgUrl, setImgUrl] = useState([]);\n    const [progressBar, setProgressBar] = useState(0)\n    const options = ['1', '2', '3', '4', '5', '6  ']\n    const [selectedRooms, setSelectedRooms] = useState(null)\n\n\n\n    let createCondition =\n        progressBar === 100 &&\n        advInfo.address !== '' &&\n        advInfo.price !== '' &&\n        advInfo.phone !== '' &&\n        advInfo.rooms !== '' &&\n        advInfo.square !== '' &&\n        advInfo.floor !== '' &&\n        advInfo.description\n\n    const makeDraft = () => {\n        setImgUrl([]);\n        setProgressBar(0);\n\t\thistory.replace('/flat')\n    }\n    const addFlat = () => {\n        const date = new Date()\n        const priceHistory = [{date: date, price: advInfo.price}]\n        api.addAdv(\n            imgUrl,\n            advInfo.address,\n            advInfo.price,\n            priceHistory,\n            advInfo.phone,\n            selectedRooms,\n            advInfo.square,\n            advInfo.floor,\n            advInfo.description,\n            date,\n            userId)\n        setProgressBar(0);\n        setImgUrl([]);\n        history.replace('/flat')\n    }\n    //    input'ov\n    const onHandleCreateUserForm = e => {\n        setAdvInfo({...advInfo, [e.target.id]: e.target.value})\n    }\n\n\n//    Firebase\n    const onHandleChangeFile = async e => {\n        const files = e.target.files\n        if (files !== []) {\n            let aditionalArray = [];\n            console.log(`  ${files.length}`)\n            for (let i = 0; i < files.length; i++) {\n                const file = files[i]\n                if (!file.type.match('image.*')) {\n                    continue;\n                }\n                storage.ref(`/images/${file.name}`).put(file)\n                    .on('state_changed',\n                        async snapshot => {\n                            await setProgressBar(Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100));\n                            console.log('  ' + progressBar)\n                        },\n                        error => {\n                            console.log(error);\n                        },\n                        async () => {\n                            const url = await storage.ref('images').child(file.name).getDownloadURL()\n                            console.log(imgUrl)\n                            console.log(url)\n                            aditionalArray.push(url)\n                            console.log(imgUrl.concat(url))\n                            setImgUrl([...imgUrl, ...aditionalArray])\n                            console.log(imgUrl)\n                        })\n                console.log(`   ${i}`)\n\n            }\n        }\n    }\n\n    return (\n        <div className={s.container}>\n            <div className={s.create__title}><h2> </h2></div>\n            <div className={s.create__main}>\n                <div className={s.create__item}>\n                    <div className={s.subtitle}> </div>\n                    <form className={s.create__form}>\n                        <div className={s.field}>\n                            <label> </label>\n                            <input\n                                type=\"text\"\n                                className={s.input__text}\n                                onChange={onHandleCreateUserForm}\n                                id=\"address\"\n                            />\n                        </div>\n                        <div className={s.field}>\n                            <label> </label>\n                            <Tooltips options={options}\n                                      setSelected={setSelectedRooms}\n                                      selected={selectedRooms}/>\n                        </div>\n\n                        <div className={s.field}>\n                            <label> </label>\n                            <div className={s.field__wrapper}>\n                                <input\n                                    type=\"text\"\n                                    className={s.input__text + \" \" + s.square}\n                                    onChange={onHandleCreateUserForm}\n                                    id=\"square\"\n                                />\n                                <span className={s.field__text}><sup>2</sup></span>\n                            </div>\n                        </div>\n                        <div className={s.field}>\n                            <label></label>\n                            <input\n                                type=\"text\"\n                                className={s.input__text + \" \" + s.floors}\n                                onChange={onHandleCreateUserForm}\n                                id=\"floor\"\n                            />\n                        </div>\n                    </form>\n                </div>\n                <div className={s.create__item + \" \" + s.create__photos}>\n                    <div className={s.subtitle}></div>\n                    <div className={s.guide}>\n                               ,   \n                         . JPG, PNG  GIF.    10 \n                    </div>\n                    <div className={s.loader}>\n                        {imgUrl\n                            ?\n                            imgUrl.map(img =>\n                                <div className={s.loader__photos}>\n                                    <img src={img} alt=\"flat\"/>\n                                </div>)\n                            : null}\n                        <form className={s.loader__photos + \" \" + s.loader__upload}>\n                            <FiImage/>\n                            <p> <span>*</span></p>\n                            <input\n                                type=\"file\"\n                                multiple\n                                className={s.input__file}\n                                onChange={onHandleChangeFile}\n                                id=\"Photos\"\n                            />\n                        </form>\n                    </div>\n                    <div className={s.description}>\n                        <div className={s.subtitle}></div>\n                        <textarea\n                            type=\"textarea\"\n                            placeholder=\"    , , ,   ;\n\t\t\t\t\t\t\t  ;        ;    .\"\n                            className={s.input__textarea}\n                            onChange={onHandleCreateUserForm}\n                            id=\"description\"\n                        />\n                    </div>\n                </div>\n                <div className={s.create__item + \" \" + s.create__photos}>\n                    <div className={s.subtitle}>  </div>\n                    <form className={s.create__form}>\n                        <div className={s.field}>\n                            <label></label>\n                            <div className={s.field__wrapper}>\n                                <input\n                                    type=\"text\"\n                                    className={s.input__text + \" \" + s.price}\n                                    onChange={onHandleCreateUserForm}\n                                    id=\"price\"\n                                />\n                                <span className={s.field__text}></span>\n                            </div>\n                        </div>\n\n                        <div className={s.field}>\n                            <label> </label>\n                            <input\n                                type=\"text\"\n                                className={s.input__text}\n                                onChange={onHandleCreateUserForm}\n                                id=\"type__of__sale\"\n                            />\n                        </div>\n                        <div className={s.field}>\n                            <label></label>\n                            <input\n                                type=\"text\"\n                                className={s.input__text + \" \" + s.phone}\n                                onChange={onHandleCreateUserForm}\n                                id=\"phone\"\n                            />\n                        </div>\n\n                    </form>\n                </div>\n                <div className={s.create__item}>\n                    {isAuth\n                        ?\n                        <div className={s.create__buttons}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName={s.create__button + \" \" + s.close__button}\n\t\t\t\t\t\t\t\tonClick={makeDraft}>\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t<button type=\"button\"\n\t\t\t\t\t\t\t\t\tclassName={s.create__button + \" \" + (createCondition ? s.success__button : s.disabled__button)}\n\t\t\t\t\t\t\t\t\tonClick={createCondition ? addFlat : null}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</button>\n                        </div>\n                        :\n\t\t\t\t\t\t<div className={s.auth}>\n\t\t\t\t\t\t\t<div className={s.auth__title}>  </div>\n\t\t\t\t\t\t\t<div className={s.auth__widget}>\n\t\t\t\t\t\t\t\t<div className={s.auth__row}>\n\t\t\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t\t<div className={s.auth__content}>\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t   placeholder=\"Email  id\"\n\t\t\t\t\t\t\t\t\t\t\t   className={s.auth__input}/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className={s.auth__button}>\n\t\t\t\t\t\t\t\t\t\t<span className={s.auth__authentication}></span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={s.auth__container}>\n\t\t\t\t\t\t\t\t\t<Link className={s.auth__link}to='/contacts'> ?</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n                    }\n                </div>\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\r\nimport s from './main.module.scss'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nexport const Main = () => {\r\n    return (\r\n        <div className={s.main}>\r\n            <div className={s.overlay}></div>\r\n            <div className={s.container}>\r\n                <div className={s.main__wrapper}>\r\n                    <div className={s.main__title}>   </div>\r\n                    <ul className={s.list}>\r\n                        <li className={s.list__element}>\r\n                            <NavLink to='/'></NavLink>\r\n                        </li>\r\n                        <li className={s.list__element}>\r\n                            <NavLink to='/'></NavLink>\r\n                        </li>\r\n                        <li className={s.list__element}>\r\n                            <NavLink to='/'></NavLink>\r\n                        </li>\r\n                        <li className={s.list__element}>\r\n                            <NavLink to='/'></NavLink>\r\n                        </li>\r\n                        <li className={s.list__element}>\r\n                            <NavLink to='/'></NavLink>\r\n                        </li>\r\n                    </ul>\r\n                    <div className={s.filter}>\r\n                        <div className={s.filter__item}>\r\n                            <button className={s.filter__button} title='    '>\r\n                                    \r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className={s.search__buttons}>\r\n                        <div className={s.search__button}>\r\n                            <NavLink className={s.button + \" \" + s.light__button} to='flat'>  </NavLink>\r\n                        </div>\r\n                        <div className={s.search__button}>\r\n                            <NavLink className={s.button} to='flat'></NavLink>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useEffect} from 'react';\nimport {BrowserRouter as Router, Redirect, Route, withRouter} from 'react-router-dom';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {setAuthStatusAC, setUserIdAC, setUserNameAC} from './store/auth-reducer'\nimport api from './dataAccessLayer/firebase'\n\nimport './App.scss';\n\n\nimport {Header} from \"./components/common/header/Header\"\nimport {Footer} from \"./components/common/footer/footer\";\nimport {AdvContainer} from './components/layout/adv/AdvContainer'\nimport {LoginForm} from \"./components/common/login/LoginForm\";\nimport RegisterContainer from \"./components/common/register/RegisterContainer\"\nimport {AdvViewContainer} from \"./components/layout/advView/AdvViewContainer\";\nimport {My} from \"./components/layout/my/My\";\nimport {NoPage} from \"./components/common/404/404\";\nimport {Create} from \"./components/layout/create/Create\";\nimport {Main} from \"./components/layout/main/main\";\nimport {MyItems} from \"./components/layout/my/MyItems\";\nimport {Edit} from \"./components/layout/adv/Edit\";\nimport {Favorites} from \"./components/layout/my/favorites\";\n\n\nconst App = () => {\n    const dispatch = useDispatch()\n    //const isAuth = useSelector(state => state.auth.isAuth)\n\n    useEffect(() => {\n        api.isAutorized()\n            .then(user => {\n                if (user) {\n                    dispatch(setAuthStatusAC(true))\n                    dispatch(setUserIdAC(user.uid))\n                    dispatch(setUserNameAC(user.displayName))\n                }\n            })\n    }, [])\n\n    return (\n        <Router basename ={process.env.PUBLIC_URL}>\n            <div className=\"app__wrapper\">\n                <Header/>\n                <div className=\"app_content\">\n                    <Route exact path='/login' component={LoginForm}/>\n                    <Route exact path='/register' component={RegisterContainer}/>\n                    <Route path='/my' component={My}/>\n                    <Route exact path='/create/' component={Create}/>\n                    <Route path='/flat/:id' component={AdvViewContainer}/>\n                    <Route exact path='/flat' component={AdvContainer}/>\n                    <Route exact path='/' component={Main}/>\n                    <Route exact path='/favorites' component={Favorites}/>\n                    <Route exact path='/edit/:id' component={Edit}/>\n                    <Route exact path='/my_items' component={MyItems}/>\n                    <Route exact path='/my_items/:id' component={AdvViewContainer}/>\n                    {/*<Route  component={NoPage} />*/}\n                </div>\n                <Footer/>\n            </div>\n        </Router>\n    )\n}\nexport default withRouter(App);\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunkMiddleWare  from \"redux-thunk\"\r\nimport {authReducer} from \"./auth-reducer\"\r\n\r\n\r\nconst reducers = combineReducers({\r\n    auth: authReducer\r\n});\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunkMiddleWare));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from \"react-router-dom\";\nimport store from './store/redux-store';\nimport {Provider} from \"react-redux\";\n\n\n\n\n// Importing SCSS files\nimport './WarningModal.scss';\nimport './Modal.scss';\nimport './DetailsModal.scss';\n\n\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n            <App/>\n        </BrowserRouter>\n    </Provider>,\n    document.getElementById('root'));\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AdvContainer_container__2Pi2d\",\"flats\":\"AdvContainer_flats__Peixi\",\"flats__title\":\"AdvContainer_flats__title__2fiLm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flat\":\"MyAdv_flat__3W2aK\",\"fadeIn\":\"MyAdv_fadeIn__B8h7H\",\"flat__main\":\"MyAdv_flat__main__HFbuy\",\"flat__info\":\"MyAdv_flat__info__RN5qp\",\"flat__infoWrapper\":\"MyAdv_flat__infoWrapper__3ZzK4\",\"flat__pricePerSquare\":\"MyAdv_flat__pricePerSquare__aR8cW\",\"flat__manip\":\"MyAdv_flat__manip__25xsL\",\"flat__details\":\"MyAdv_flat__details__24gW2\",\"flat__description\":\"MyAdv_flat__description__2evk1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flat\":\"adv_flat__3vGRT\",\"fadeIn\":\"adv_fadeIn__2ayeO\",\"flat__main\":\"adv_flat__main__3SrTI\",\"flat__info\":\"adv_flat__info__3LFp3\",\"flat__infoWrapper\":\"adv_flat__infoWrapper__PFMdM\",\"flat__pricePerSquare\":\"adv_flat__pricePerSquare__uYDw-\",\"flat__manip\":\"adv_flat__manip__3XEsS\",\"flat__details\":\"adv_flat__details__2iFp3\",\"flat__description\":\"adv_flat__description__3fEpN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Create_container__2NvEB\",\"fadeIn\":\"Create_fadeIn__8OM1S\",\"subtitle\":\"Create_subtitle__Vh8Ym\",\"create__title\":\"Create_create__title__1mWjP\",\"create__main\":\"Create_create__main__3dk5H\",\"create__item\":\"Create_create__item__1JUJd\",\"create__photos\":\"Create_create__photos__3yYdw\",\"loader\":\"Create_loader__3YaZo\",\"loader__photos\":\"Create_loader__photos__3jwes\",\"loader__upload\":\"Create_loader__upload__3nUCU\",\"guide\":\"Create_guide__1XQpO\",\"description\":\"Create_description__3auZ8\",\"input__textarea\":\"Create_input__textarea__13UIS\",\"create__buttons\":\"Create_create__buttons__hSJcO\",\"create__button\":\"Create_create__button__4Xmsc\",\"close__button\":\"Create_close__button__i-xnj\",\"success__button\":\"Create_success__button__1wlP3\",\"disabled__button\":\"Create_disabled__button__2WGK6\",\"field\":\"Create_field__1NFDg\",\"field__wrapper\":\"Create_field__wrapper__GxYRV\",\"field__text\":\"Create_field__text__25Kwu\",\"input__text\":\"Create_input__text__h_qm0\",\"rooms\":\"Create_rooms__2jxpD\",\"arrow\":\"Create_arrow__2VsVN\",\"select__box\":\"Create_select__box__Hz5J5\",\"select__list\":\"Create_select__list__20lt4\",\"select__item\":\"Create_select__item__3Aazr\",\"square\":\"Create_square__1he5I\",\"floors\":\"Create_floors__2ZHcJ\",\"price\":\"Create_price__3Moew\",\"phone\":\"Create_phone__yNHBP\",\"auth\":\"Create_auth__1RWi6\",\"auth__title\":\"Create_auth__title__3ydn8\",\"auth__widget\":\"Create_auth__widget__1OLY6\",\"auth__content\":\"Create_auth__content__2NCEf\",\"auth__input\":\"Create_auth__input__1Y-Js\",\"auth__button\":\"Create_auth__button__LBj9f\",\"auth__authentication\":\"Create_auth__authentication__3B1V-\",\"auth__container\":\"Create_auth__container__3NEuI\",\"auth__link\":\"Create_auth__link__29uO5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"slider_slider__2n_a8\",\"left__slider\":\"slider_left__slider__lWX0N\",\"right__slider\":\"slider_right__slider__3eOYv\",\"extender\":\"slider_extender__37Tff\",\"mainPhoto\":\"slider_mainPhoto__MpdZ3\",\"smallPhotos\":\"slider_smallPhotos__REcl2\",\"smallPhotos__item\":\"slider_smallPhotos__item__2IkFu\",\"smallPhotos__activeItem\":\"slider_smallPhotos__activeItem__31tM7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"footer_footer__37EmS\",\"footer__container\":\"footer_footer__container__kd_Lm\",\"footer__item\":\"footer_footer__item__30YvG\",\"footer__menu\":\"footer_footer__menu__3ymWl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sliderContainer\":\"slider_sliderContainer__r9QN4\",\"cardPhoto\":\"slider_cardPhoto__2gH_i\",\"left__slider\":\"slider_left__slider__3AjEB\",\"right__slider\":\"slider_right__slider__3Ab3j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select__field\":\"Tooltips_select__field__3PJqP\",\"arrow\":\"Tooltips_arrow__2wwuM\",\"selected\":\"Tooltips_selected__VkN-a\",\"selected__list\":\"Tooltips_selected__list__3s9M8\",\"selected__item\":\"Tooltips_selected__item__3RqIP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__7N60Y\",\"item\":\"MyPosts_item__3Fvhc\",\"postElement\":\"MyPosts_postElement__2-54H\"};","module.exports = __webpack_public_path__ + \"static/media/left-arrow.34a4f31c.svg\";","module.exports = __webpack_public_path__ + \"static/media/right-arrow.5e5b72cc.svg\";"],"sourceRoot":""}